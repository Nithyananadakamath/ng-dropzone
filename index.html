
<!DOCTYPE html>

<html>
<head>
  <meta charset="utf-8">
  <link href="https://markable.in/static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://markable.in//static/css/style.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="https://markable.in/static/editor/css/view_file.css">
  <link rel="stylesheet" type="text/css" href="https://markable.in/static/css/code.css">
</head>
<body>
  <div class="container">
    <div id="content">
      <h1 id="ngdropzone-preview">ngDropzone ☛ : <a href="https://rawgit.com/thatisuday/ngDropzone/master/test/test.html">Preview</a></h1>
<p>AngularJS directive for <strong><a href="https://github.com/enyo/dropzone">dropzone</a></strong></p>
<h2 id="getting-started">Getting started</h2>
<h3 id="install-using-bower">Install using bower</h3>
<p>Run following command in your working directory using shell/cmd</p>
<pre><code>bower install ngDropzone
</code></pre>

<h3 id="install-using-npm">Install using npm</h3>
<p>Run following command in your working directory using shell/cmd</p>
<pre><code>npm install ngdropzone
</code></pre>

<h3 id="install-manually">Install manually</h3>
<h5 id="step-1">Step 1</h5>
<p>You must have AngularJS library included for this directive to work : <a href="https://developers.google.com/speed/libraries/#angularjs">Download from Google CDN</a></p>
<h5 id="step-2">Step 2</h5>
<p>You need to download <code>dropzone.js</code> and <code>dropzone.css</code> files from dropzone repository : <a href="https://github.com/enyo/dropzone/releases/tag/v4.3.0">Get from official release</a></p>
<h5 id="step-3">Step 3</h5>
<p>Download <code>ngDropzone.js</code> from this <a href="https://github.com/thatisuday/ngDropzone/releases">official release</a></p>
<h5 id="step-4">Step 4</h5>
<p>Include above files in <code>&lt;head&gt;&lt;/head&gt;</code> section of your html page</p>
<hr />
<h2 id="create-js-file-and-set-dropzoneautodiscover-to-false">Create .js file and set <em>Dropzone.autoDiscover</em> to <em>false</em></h2>
<pre><code>//Add below line at the top of your JavaScript code
Dropzone.autoDiscover = false;
//This will prevent Dropzone to instantiate on it's own unless you are using dropzone class for styling
</code></pre>

<h2 id="configure-your-angular-app">Configure your angular app</h2>
<p>Include <code>thatisuday.dropzone</code> module inside your angular app.</p>
<pre><code>var myNgApp = angular.module('myAppName', ['thatisuday.dropzone']);
</code></pre>

<h4 id="optional">⛹Optional</h4>
<blockquote>
<p>You can configure dropzone before an app starts running. ngDropzone comes with built in <strong>dropzoneOps</strong> provider to configure <a href="http://www.dropzonejs.com/#configuration-options">dropzone options</a> which can be implemented as below. <em>setOptions</em> function will set default options fot all your dropzone instances in that app.</p>
</blockquote>
<pre><code>myNgApp.config(function(dropzoneOpsProvider){
    dropzoneOpsProvider.setOptions({
        url : '/upload_url',
        maxFilesize : '10',
        ...
    });
});
</code></pre>

<h4 id="optional_1">⛹Optional</h4>
<blockquote>
<p>You can also add default options in <strong>dropzoneOps</strong> provider <code>(ngDropzone.js)</code> inside <code>defOps</code> object. This is very helpful in case you have multiple apps.  <strong><em>But it is not recommended because if you upgrade this directive in future, your app might not behave the way it should.</em></strong></p>
</blockquote>
<h2 id="create-dropzones">Create dropzone(s)</h2>
<p>You can create dropzone using <code>ng-dropzone</code> attribute or <code>&lt;ng-dropzone&gt;&lt;/ng-dropzone&gt;</code> element.</p>
<pre><code>&lt;div class=&quot;dropzone&quot; options=&quot;dzOptions&quot; callbacks=&quot;dzCallbacks&quot; methods=&quot;dzMethods&quot; ng-dropzone&gt;&lt;/div&gt;
</code></pre>

<p><strong><em>OR</em></strong></p>
<pre><code>&lt;ng-dropzone class=&quot;dropzone&quot; options=&quot;dzOptions&quot; callbacks=&quot;dzCallbacks&quot; methods=&quot;dzMethods&quot;&gt;&lt;/ng-dropzone&gt;
</code></pre>

<blockquote>
<p><strong>options</strong> attribute specifies model that will set <a href="http://www.dropzonejs.com/#configuration-options">options (click to see)</a> for dropzone and will override any options that may have been provided with <strong>dropzoneOps</strong> provider. For example, <code>$scope.dropzoneOps = {bla:bleh,...};</code></p>
<p><strong>callbacks</strong> attribute specifies model that will handle <a href="http://www.dropzonejs.com/#events">events (click to see)</a> for dropzone. For example, <code>$scope.dzCallbacks.addedfile = function(file){//do something};</code></p>
<p><strong>methods</strong> attribute specifies model that will set <a href="http://www.dropzonejs.com/#dropzone-methods">methods (click to see)</a> for dropzone. For example, <code>$scope.dzMethods.removeFile(file);</code> or <code>&lt;button ng-click="dzMethods.removeAllFiles();"&gt;...&lt;/button&gt;</code></p>
</blockquote>
<p>As per above example, <strong><em>dzOptions</em></strong> is model that set options for dropzone, <strong><em>dzCallbacks</em></strong> is model that handles events for dropzone while <strong><em>dzMethods</em></strong> is <em>gateway</em> model that triggers dropzone methods.</p>
<h2 id="configure-dropzones">Configure dropzone(s)</h2>
<p><strong>callbacks</strong> are not necessary for your dropzone to work, these are just events that you may need as a callback for certain activities of your dropzone. But <strong>options</strong> must be given inside your controller <em>unless you are configuring it from <strong>dropzoneOps</strong> provider</em>. <em>url</em> field in dropzone options is mandatory.</p>
<pre><code>myNgApp.controller('main', function($scope){
    //Set options for dropzone
    //Visit http://www.dropzonejs.com/#configuration-options for more options
    $scope.dzOptions = {
        url : '/alt_upload_url',
        paramName : 'photo',
        maxFilesize : '10',
        acceptedFiles : 'image/jpeg, images/jpg, image/png',
        addRemoveLinks : true,
        ...
    };


    //Handle events for dropzone
    //Visit http://www.dropzonejs.com/#events for more events
    $scope.dzCallbacks = {
        'addedfile' : function(file){
            console.log(file);
            $scope.newFile = file;
        },
        'success' : function(file, xhr){
            console.log(file, xhr);
        },
        ...
    };


    //Apply methods for dropzone
    //Visit http://www.dropzonejs.com/#dropzone-methods for more methods
    $scope.dzMethods = {};
    $scope.removeNewFile = function(){
        $scope.dzMethods.removeFile($scope.newFile); //We got $scope.newFile from 'addedfile' event callback
    }
});
</code></pre>

<p>By default, dropzone starts file upload when file is dropped or added to the list. But this can be prevented using <code>autoProcessQueue:false</code> in options. Then you have to manually start file upload using <strong><em>dzMethods</em></strong> model. You just have to call function <code>dzMethods.processQueue();</code> to start upload.</p>
<blockquote>
<p>For better understanding, <strong>__⚑__</strong>  checkout source code in /test/test.html file or visit second example in  <a href="https://rawgit.com/thatisuday/ngDropzone/master/test/test.html">preview</a> of this directive.</p>
<p>I have added to more extra methods <code>getDropzone</code> and <code>getAllFiles</code> which returns <strong>dropzone instance</strong> and <strong>dropzone files</strong> respectively. These methods do not accept any <em>arguments</em> and only work with <em>ngDropzone</em>.</p>
</blockquote>
<h1 id="optional-beautify-dropzone">⛹Optional :Beautify Dropzone</h1>
<p>Add <code>beautify.css</code> file below <code>dropzone.css</code> file for professional looking dropzone.</p>
<h1 id="complaints-contribute">Complaints &amp; Contribute</h1>
<p>Create an issue and mention your commits there. Don't take a fork.</p>
    </div>
  </div>
</body>
</html>
